"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[12],{8064:(m,p,i)=>{i.d(p,{D:()=>d});var n=i(1626),c=i(4438);let d=(()=>{class t{constructor(e){this.http=e,this.GetChangeOrderDetails="backend/GetChangeOrderDetails.php",this.clientsUrl="backend/getClients.php",this.employeesUrl="backend/getEmployees.php",this.changeorderurl="backend/getChangeOrder.php",this.getStatusProgressUrl="backend/GetStatusProgress.php",this.getClientChangeOrders="backend/GetChangeOrderByClientId.php",this.getChangeLogDataByChangeOrder="backend/GetChangeLogDataByChangeOrder.php",this.GetChanageLogById="backend/GetChangeLogById.php",this.getClientbyClientID="backend/GetClientByClientID.php",this.getUsers="backend/GetUser.php",this.getUsersByUserId="backend/GetUserByUserId.php",this.recentchangeorderlog="backend/GetRecentChangeOrderLog.php",this.GetProvince="backend/GetProvince.php",this.GetCountry="backend/GetCountry.php",this.GetCity="backend/GetCity.php",this.GetDistrict="backend/GetDistrict.php",this.GetSubDistrict="backend/GetSubDistrict.php",this.insertchangeorder="backend/InsertChangeOrder.php",this.InsertChangeLog="backend/InsertChangeLog.php",this.insertClient="backend/InsertClient.php",this.InsertUser="backend/InsertUser.php",this.updatechangeorder="backend/UpdateChangeOrder.php",this.updatepassword="backend/ChangePassword.php",this.forgotpassword="backend/ForgotPassword.php",this.UpdateUser="backend/UpdateUser.php",this.updatechangelog="backend/UpdateChangeLogByID.php",this.updateclient="backend/updateClient.php",this.FileUpload="backend/upload.php",this.FileUploadtoDatabase="backend/uploadfiletodatabase.php",this.sendotp="backend/otp/SendOtp.php",this.logincred="backend/LoginCred.php",this.setInactive="backend/SetInactiveDateUser.php",this.deleteChangeOrder="backend/DeleteChangeOrder.php",this.deleteChangeLog="backend/DeleteChangeLog.php"}getRecentChangeOrderLog(){return this.http.get(this.recentchangeorderlog)}getChangeOrder(){return this.http.get(this.changeorderurl)}getChangeOrderDetails(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.GetChangeOrderDetails,{ChangeOrder:e},{headers:r})}GetUsers(){return this.http.get(this.getUsers)}insertUser(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.InsertUser,e,{headers:r})}Updatepassword(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.updatepassword,e,{headers:r})}forgotPassword(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.forgotpassword,e,{headers:r})}updateUser(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.UpdateUser,e,{headers:r})}GetUserByUserId(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.getUsersByUserId,{UserID:e},{headers:r})}SetInactive(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.setInactive,e,{headers:r})}getClients(){return this.http.get(this.clientsUrl)}getChangeClient(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.getClientChangeOrders,{clientId:e},{headers:r})}getclientByClientID(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.getClientbyClientID,{clientId:e},{headers:r})}getProvince(){return this.http.get(this.GetProvince)}getCountry(){return this.http.get(this.GetCountry)}getCity(){return this.http.get(this.GetCity)}getDistrict(){return this.http.get(this.GetDistrict)}getSubDistrict(){return this.http.get(this.GetSubDistrict)}getEmployees(){return this.http.get(this.employeesUrl)}getStatusProgress(){return this.http.get(this.getStatusProgressUrl)}GetChangeLogDataByChangeOrder(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.getChangeLogDataByChangeOrder,{ChangeOrder:e},{headers:r})}getchangelogbyId(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.GetChanageLogById,{ChangeLogId:e},{headers:r})}uploadFile(e){return this.http.post(this.FileUpload,e)}insertChangeLog(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.InsertChangeLog,e,{headers:r})}insertChangeRequest(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.insertchangeorder,e,{headers:r})}InsertClient(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.insertClient,e,{headers:r})}UpdateChangeOrder(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.updatechangeorder,e,{headers:r})}UpdateChangeLog(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.updatechangelog,e,{headers:r})}UpdateClient(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.updateclient,e,{headers:r})}DeleteChangeOrder(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.deleteChangeOrder,e,{headers:r})}DeleteChangeLog(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.deleteChangeLog,e,{headers:r})}LoginCred(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.logincred,e,{headers:r})}sendOtpToEmail(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.sendotp,e,{headers:r})}uploadFiletodatabase(e){return this.http.post(this.FileUploadtoDatabase,e)}getUser(){return this.user}setUser(e){this.user=e}static{this.\u0275fac=function(r){return new(r||t)(c.KVO(n.Qq))}}static{this.\u0275prov=c.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})()},2012:(m,p,i)=>{i.r(p),i.d(p,{default:()=>f});var n=i(4341),c=i(5974),d=i(177),t=i(4438),g=i(8064),e=i(6256);function r(s,u){if(1&s&&(t.j41(0,"div",28),t.nrm(1,"input",29),t.j41(2,"label",30),t.EFF(3),t.k0s()()),2&s){const o=u.$implicit;t.R7$(),t.Mz_("id","cloudOption",o.value,""),t.Y8G("value",o.value),t.R7$(),t.Mz_("for","cloudOption",o.value,""),t.R7$(),t.JRh(o.label)}}function C(s,u){if(1&s&&(t.j41(0,"div",28),t.nrm(1,"input",31),t.j41(2,"label",30),t.EFF(3),t.k0s()()),2&s){const o=u.$implicit;t.R7$(),t.Mz_("id","hybridOption",o.value,""),t.Y8G("value",o.value),t.R7$(),t.Mz_("for","hybridOption",o.value,""),t.R7$(),t.JRh(o.label)}}function b(s,u){1&s&&(t.j41(0,"div",8)(1,"div",3)(2,"label",32),t.EFF(3,"Cloud Name:"),t.k0s(),t.j41(4,"div",5),t.nrm(5,"input",33),t.k0s()()())}let f=(()=>{class s{constructor(o,l,a){this.userService=o,this.fb=l,this.router=a,this.province=[],this.countries=[],this.City=[],this.District=[],this.SubDistrict=[],this.clients=[],this.OnCLouds=[{label:"Cloud",value:1},{label:"OnPremises",value:0}],this.Hybrids=[{label:"Hybrid",value:1},{label:"No",value:0}],this.clientForm=this.fb.group({CustomerName:["",n.k0.required],Address:["",n.k0.required],Provinces:["",n.k0.required],Country:["",n.k0.required],City:["",n.k0.required],District:["",n.k0.required],SubDistrict:["",n.k0.required],PostalCode:["",n.k0.required],OnCloud:["",n.k0.required],Hybrid:["",n.k0.required],CloudName:[""]}),this.clientForm.get("OnCloud")?.valueChanges.subscribe(h=>{1===h?this.clientForm.get("CloudName")?.setValidators(n.k0.required):this.clientForm.get("CloudName")?.clearValidators(),this.clientForm.get("CloudName")?.updateValueAndValidity()})}ngOnInit(){}onSubmit(){if(confirm("Are you sure you want to add client"))if(this.clientForm.valid){const l={clientId:crypto.randomUUID(),clientName:this.clientForm.get("CustomerName")?.value,countryId:this.clientForm.get("Country")?.value,provinceId:this.clientForm.get("Provinces")?.value,cityId:this.clientForm.get("City")?.value,districtId:this.clientForm.get("District")?.value,subDistrictId:this.clientForm.get("SubDistrict")?.value,postalCode:this.clientForm.get("PostalCode")?.value,address:this.clientForm.get("Address")?.value,onCloud:this.clientForm.get("OnCloud")?.value,hybrid:this.clientForm.get("Hybrid")?.value,cloudName:1===this.clientForm.get("OnCloud")?.value?this.clientForm.get("CloudName")?.value:"OnPremises"};this.userService.InsertClient(l).subscribe(a=>{alert("Form has been submmited"),this.router.navigateByUrl("/ClientStatus",{state:{}})},a=>{console.error("Error:",a),alert(a)})}else alert("Form is invalid")}static{this.\u0275fac=function(l){return new(l||s)(t.rXU(g.D),t.rXU(n.ok),t.rXU(e.Ix))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-insert-client"]],standalone:!0,features:[t.aNF],decls:56,vars:4,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3","row"],["for","customeraddress",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["id","CustomerName","formControlName","CustomerName",1,"form-control"],["id","Address","formControlName","Address",1,"form-control"],[1,"row","mb-3"],[1,"col-md-6"],["for","Country",1,"form-label"],["id","Country","formControlName","Country",1,"form-control"],["for","Provinces",1,"form-label"],["id","Provinces","formControlName","Provinces",1,"form-control"],["for","City",1,"form-label"],["id","City","formControlName","City",1,"form-control"],["for","District",1,"form-label"],["id","District","formControlName","District",1,"form-control"],["for","SubDistrict",1,"form-label"],["id","SubDistrict","formControlName","SubDistrict",1,"form-control"],["for","PostalCode",1,"form-label"],["id","PostalCode","formControlName","PostalCode","type","number",1,"form-control"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9","d-flex","align-items-center"],["class","form-check form-check-inline custom-radio",4,"ngFor","ngForOf"],["class","row mb-3",4,"ngIf"],[1,"text-center","mt-5"],["type","submit",1,"btn","btn-primary","w-100"],[1,"form-check","form-check-inline","custom-radio"],["type","radio","formControlName","OnCloud",1,"form-check-input",3,"value","id"],[1,"form-check-label","ms-2",3,"for"],["type","radio","formControlName","Hybrid",1,"form-check-input",3,"value","id"],["for","CloudName",1,"col-sm-3","col-form-label"],["id","CloudName","formControlName","CloudName",1,"form-control"]],template:function(l,a){if(1&l&&(t.j41(0,"div",0)(1,"h1",1),t.EFF(2,"Insert Client"),t.k0s(),t.j41(3,"form",2),t.bIt("ngSubmit",function(){return a.onSubmit()}),t.j41(4,"div",3)(5,"label",4),t.EFF(6,"Customer Name:"),t.k0s(),t.j41(7,"div",5),t.nrm(8,"input",6),t.k0s()(),t.j41(9,"div",3)(10,"label",4),t.EFF(11,"Address:"),t.k0s(),t.j41(12,"div",5),t.nrm(13,"input",7),t.k0s()(),t.j41(14,"div",8)(15,"div",9)(16,"label",10),t.EFF(17,"Country:"),t.k0s(),t.nrm(18,"input",11),t.k0s(),t.j41(19,"div",9)(20,"label",12),t.EFF(21,"Province:"),t.k0s(),t.nrm(22,"input",13),t.k0s()(),t.j41(23,"div",8)(24,"div",9)(25,"label",14),t.EFF(26,"City:"),t.k0s(),t.nrm(27,"input",15),t.k0s(),t.j41(28,"div",9)(29,"label",16),t.EFF(30,"District:"),t.k0s(),t.nrm(31,"input",17),t.k0s()(),t.j41(32,"div",8)(33,"div",9)(34,"label",18),t.EFF(35,"SubDistrict:"),t.k0s(),t.nrm(36,"input",19),t.k0s(),t.j41(37,"div",9)(38,"label",20),t.EFF(39,"Postal Code:"),t.k0s(),t.nrm(40,"input",21),t.k0s()(),t.j41(41,"div",8)(42,"div",9)(43,"label",22),t.EFF(44,"Cloud Option:"),t.k0s(),t.j41(45,"div",23),t.DNE(46,r,4,6,"div",24),t.k0s()(),t.j41(47,"div",9)(48,"label",22),t.EFF(49,"Hybrid Option:"),t.k0s(),t.j41(50,"div",23),t.DNE(51,C,4,6,"div",24),t.k0s()()(),t.DNE(52,b,6,0,"div",25),t.j41(53,"div",26)(54,"button",27),t.EFF(55,"Submit"),t.k0s()()()()),2&l){let h;t.R7$(3),t.Y8G("formGroup",a.clientForm),t.R7$(43),t.Y8G("ngForOf",a.OnCLouds),t.R7$(5),t.Y8G("ngForOf",a.Hybrids),t.R7$(),t.Y8G("ngIf",1===(null==(h=a.clientForm.get("OnCloud"))?null:h.value))}},dependencies:[c.ae,d.MD,d.Sq,d.bT,n.X1,n.qT,n.me,n.Q0,n.Fm,n.BC,n.cb,n.j4,n.JD],styles:[".custom-radio .form-check-input{border:2px solid #333;border-radius:50%;width:18px;height:18px}.custom-radio .form-check-input:checked{background-color:#007bff;border-color:#007bff}.custom-checkbox .form-check-input{border:2px solid #333;width:18px;height:18px}.custom-checkbox .form-check-input:checked{background-color:#007bff;border-color:#007bff}.form-control[readonly]{background-color:#fff}.my-custom-dropdown .ngx-dropdown-list{max-height:150px;overflow-y:auto;border:1px solid #ddd;background-color:#fff}\n"],encapsulation:2})}}return s})()}}]);