"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[108],{108:(T,f,l)=>{l.r(f),l.d(f,{default:()=>F});var s=l(9417),c=l(5490),U=l(5974),E=l(7651),e=l(4438),_=l(1165),I=l(8064),p=l(177);function g(t,m){1&t&&(e.j41(0,"div",21),e.EFF(1," Please provide Name "),e.k0s())}function D(t,m){1&t&&(e.j41(0,"div",21),e.EFF(1," Please provide Email "),e.k0s())}function P(t,m){if(1&t&&(e.j41(0,"option",22),e.EFF(1),e.k0s()),2&t){const a=m.$implicit;e.Y8G("value",a.value),e.R7$(),e.JRh(a.label)}}function h(t,m){1&t&&(e.j41(0,"div",21),e.EFF(1," Please select a User Type "),e.k0s())}function b(t,m){1&t&&(e.j41(0,"div",21),e.EFF(1," Please provide Password "),e.k0s())}function C(t,m){1&t&&(e.j41(0,"div",21),e.EFF(1," Passwword Missmatched "),e.k0s())}let F=(()=>{class t{encryptToBase64(a){return btoa(a)}constructor(a,n,r,o){this.fb=a,this.route=n,this.userService=r,this.router=o,this.UserTypeOptions=[{value:0,label:"Admin"},{value:1,label:"Client Level 1"},{value:2,label:"Client Level 2"},{value:11,label:"Agent Level 1"},{value:12,label:"Agent Level 2"},{value:21,label:"R&D Level 1"},{value:22,label:"R&D Level 2"},{value:98,label:"Accounting Admin"},{value:99,label:"SuperUser"}],this.currentUser=this.userService.getUser();const i=new Date;i.setDate(i.getDate()+1),this.today=(new Date).toISOString().split("T")[0],this.InsertUser=this.fb.group({Name:["",s.k0.required],Email:["",[s.k0.required,s.k0.email]],Password:["",s.k0.required],ConfirmPassword:["",s.k0.required],UserType:["",s.k0.required],InactiveDate:["",s.k0.required]},{validators:this.passwordsMatchValidator})}ngOnInit(){}passwordsMatchValidator(a){const n=a.get("Password"),r=a.get("ConfirmPassword");r.setErrors(n&&r&&n.value!==r.value?{passwordsMismatch:!0}:null)}onSubmit(){if(this.InsertUser.valid){const a={userId:crypto.randomUUID(),Name:this.InsertUser.get("Name")?.value,Email:this.InsertUser.get("Email")?.value,UserType:this.InsertUser.get("UserType")?.value,InactiveDate:this.InsertUser.get("InactiveDate")?.value,Password:this.encryptToBase64(this.InsertUser.get("Password")?.value)};this.userService.insertUser(a).subscribe(n=>{"success"===n.status?(alert(n.message),this.router.navigateByUrl("/UserDataTable",{state:{}})):"error"===n.status&&alert(n.message)},n=>{console.error("Error:",n),alert(n)})}else alert("Form is invalid")}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(s.ok),e.rXU(_.nX),e.rXU(I.D),e.rXU(_.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-insert-user"]],standalone:!0,features:[e.aNF],decls:38,vars:8,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-sm-6"],["for","Name",1,"form-label"],["id","Name","formControlName","Name",1,"form-control"],["class","text-danger small",4,"ngIf"],["for","Email",1,"form-label"],["id","Email","formControlName","Email",1,"form-control"],[1,"mb-3"],["for","UserType",1,"form-label"],["id","UserType","formControlName","UserType",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","InactiveDate",1,"form-label"],["id","InactiveDate","type","date","formControlName","InactiveDate",1,"form-control",3,"min"],["for","Password",1,"form-label"],["id","Password","formControlName","Password","type","password",1,"form-control"],["for","ConfirmPassword",1,"form-label"],["id","ConfirmPassword","formControlName","ConfirmPassword","type","password",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100"],[1,"text-danger","small"],[3,"value"]],template:function(n,r){if(1&n&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"User Form"),e.k0s(),e.j41(3,"form",2),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Employee Name"),e.k0s(),e.nrm(8,"input",6),e.DNE(9,g,2,0,"div",7),e.k0s(),e.j41(10,"div",4)(11,"label",8),e.EFF(12,"Email"),e.k0s(),e.nrm(13,"input",9),e.DNE(14,D,2,0,"div",7),e.k0s()(),e.j41(15,"div",10)(16,"label",11),e.EFF(17,"User Type"),e.k0s(),e.j41(18,"select",12),e.DNE(19,P,2,2,"option",13),e.k0s(),e.DNE(20,h,2,0,"div",7),e.k0s(),e.j41(21,"div",10)(22,"label",14),e.EFF(23,"Inactive Date"),e.k0s(),e.nrm(24,"input",15),e.k0s(),e.j41(25,"div",3)(26,"div",4)(27,"label",16),e.EFF(28,"Password"),e.k0s(),e.nrm(29,"input",17),e.DNE(30,b,2,0,"div",7),e.k0s(),e.j41(31,"div",4)(32,"label",18),e.EFF(33,"Confirm Password"),e.k0s(),e.nrm(34,"input",19),e.DNE(35,C,2,0,"div",7),e.k0s()(),e.j41(36,"button",20),e.EFF(37,"Submit"),e.k0s()()()),2&n){let o,i,d,u,v;e.R7$(3),e.Y8G("formGroup",r.InsertUser),e.R7$(6),e.Y8G("ngIf",(null==(o=r.InsertUser.get("Name"))?null:o.invalid)&&(null==(o=r.InsertUser.get("Name"))?null:o.touched)),e.R7$(5),e.Y8G("ngIf",(null==(i=r.InsertUser.get("Email"))?null:i.invalid)&&(null==(i=r.InsertUser.get("Email"))?null:i.touched)),e.R7$(5),e.Y8G("ngForOf",r.UserTypeOptions),e.R7$(),e.Y8G("ngIf",(null==(d=r.InsertUser.get("UserType"))?null:d.invalid)&&(null==(d=r.InsertUser.get("UserType"))?null:d.touched)),e.R7$(4),e.Y8G("min",r.today),e.R7$(6),e.Y8G("ngIf",(null==(u=r.InsertUser.get("Password"))?null:u.invalid)&&(null==(u=r.InsertUser.get("Password"))?null:u.touched)),e.R7$(5),e.Y8G("ngIf",(null==(v=r.InsertUser.get("ConfirmPassword"))?null:v.invalid)&&(null==(v=r.InsertUser.get("ConfirmPassword"))?null:v.touched))}},dependencies:[c.w8,U.ae,s.YN,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,E.G,p.Sq,p.bT,s.j4,s.JD]})}}return t})()}}]);