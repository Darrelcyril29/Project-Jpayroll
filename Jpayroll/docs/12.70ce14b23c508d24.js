"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[12],{8064:(D,h,d)=>{d.d(h,{D:()=>p});var n=d(1626),u=d(4438);let p=(()=>{class t{constructor(e){this.http=e,this.GetChangeOrderDetails="backend/GetChangeOrderDetails.php",this.clientsUrl="backend/getClients.php",this.employeesUrl="backend/getEmployees.php",this.changeorderurl="backend/getChangeOrder.php",this.getStatusProgressUrl="backend/GetStatusProgress.php",this.getClientChangeOrders="backend/GetChangeOrderByClientId.php",this.getChangeLogDataByChangeOrder="backend/GetChangeLogDataByChangeOrder.php",this.GetChanageLogById="backend/GetChangeLogById.php",this.getClientbyClientID="backend/GetClientByClientID.php",this.getUsers="backend/GetUser.php",this.getUsersByUserId="backend/GetUserByUserId.php",this.recentchangeorderlog="backend/GetRecentChangeOrderLog.php",this.GetProvince="backend/GetProvince.php",this.GetCountry="backend/GetCountry.php",this.GetCity="backend/GetCity.php",this.GetDistrict="backend/GetDistrict.php",this.GetSubDistrict="backend/GetSubDistrict.php",this.insertchangeorder="backend/InsertChangeOrder.php",this.InsertChangeLog="backend/InsertChangeLog.php",this.insertClient="backend/InsertClient.php",this.InsertUser="backend/InsertUser.php",this.updatechangeorder="backend/UpdateChangeOrder.php",this.updatepassword="backend/ChangePassword.php",this.forgotpassword="backend/ForgotPassword.php",this.UpdateUser="backend/UpdateUser.php",this.updatechangelog="backend/UpdateChangeLogByID.php",this.updateclient="backend/updateClient.php",this.FileUpload="backend/upload.php",this.FileUploadtoDatabase="backend/uploadfiletodatabase.php",this.sendotp="backend/otp/SendOtp.php",this.logincred="backend/LoginCred.php",this.setInactive="backend/SetInactiveDateUser.php",this.deleteChangeOrder="backend/DeleteChangeOrder.php",this.deleteChangeLog="backend/DeleteChangeLog.php"}getRecentChangeOrderLog(){return this.http.get(this.recentchangeorderlog)}getChangeOrder(){return this.http.get(this.changeorderurl)}getChangeOrderDetails(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.GetChangeOrderDetails,{ChangeOrder:e},{headers:r})}GetUsers(){return this.http.get(this.getUsers)}insertUser(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.InsertUser,e,{headers:r})}Updatepassword(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.updatepassword,e,{headers:r})}forgotPassword(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.forgotpassword,e,{headers:r})}updateUser(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.UpdateUser,e,{headers:r})}GetUserByUserId(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.getUsersByUserId,{UserID:e},{headers:r})}SetInactive(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.setInactive,e,{headers:r})}getClients(){return this.http.get(this.clientsUrl)}getChangeClient(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.getClientChangeOrders,{clientId:e},{headers:r})}getclientByClientID(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.getClientbyClientID,{clientId:e},{headers:r})}getProvince(){return this.http.get(this.GetProvince)}getCountry(){return this.http.get(this.GetCountry)}getCity(){return this.http.get(this.GetCity)}getDistrict(){return this.http.get(this.GetDistrict)}getSubDistrict(){return this.http.get(this.GetSubDistrict)}getEmployees(){return this.http.get(this.employeesUrl)}getStatusProgress(){return this.http.get(this.getStatusProgressUrl)}GetChangeLogDataByChangeOrder(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.getChangeLogDataByChangeOrder,{ChangeOrder:e},{headers:r})}getchangelogbyId(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.GetChanageLogById,{ChangeLogId:e},{headers:r})}uploadFile(e){return this.http.post(this.FileUpload,e)}insertChangeLog(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.InsertChangeLog,e,{headers:r})}insertChangeRequest(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.insertchangeorder,e,{headers:r})}InsertClient(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.insertClient,e,{headers:r})}UpdateChangeOrder(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.updatechangeorder,e,{headers:r})}UpdateChangeLog(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.updatechangelog,e,{headers:r})}UpdateClient(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.updateclient,e,{headers:r})}DeleteChangeOrder(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.deleteChangeOrder,e,{headers:r})}DeleteChangeLog(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.deleteChangeLog,e,{headers:r})}LoginCred(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.logincred,e,{headers:r})}sendOtpToEmail(e){const r=new n.Lr({"Content-Type":"application/json"});return this.http.post(this.sendotp,e,{headers:r})}uploadFiletodatabase(e){return this.http.post(this.FileUploadtoDatabase,e)}getUser(){return this.user}setUser(e){this.user=e}static{this.\u0275fac=function(r){return new(r||t)(u.KVO(n.Qq))}}static{this.\u0275prov=u.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})()},2012:(D,h,d)=>{d.r(h),d.d(h,{default:()=>A});var n=d(9417),u=d(5974),p=d(177),t=d(4438),I=d(8064),e=d(1165);function r(i,a){1&i&&(t.j41(0,"div",32),t.EFF(1," Please insert a Customer Name "),t.k0s())}function E(i,a){1&i&&(t.j41(0,"div",32),t.EFF(1," Please insert a Address "),t.k0s())}function P(i,a){if(1&i&&(t.j41(0,"option",33),t.EFF(1),t.k0s()),2&i){const o=a.$implicit;t.Y8G("value",o.id),t.R7$(),t.SpI(" ",o.name," ")}}function O(i,a){1&i&&(t.j41(0,"div",32),t.EFF(1," Please select a country "),t.k0s())}function j(i,a){if(1&i&&(t.j41(0,"option",33),t.EFF(1),t.k0s()),2&i){const o=a.$implicit;t.Y8G("value",o.id),t.R7$(),t.SpI(" ",o.name," ")}}function G(i,a){1&i&&(t.j41(0,"div",32),t.EFF(1," Please select a Provinces "),t.k0s())}function T(i,a){if(1&i&&(t.j41(0,"option",33),t.EFF(1),t.k0s()),2&i){const o=a.$implicit;t.Y8G("value",o.id),t.R7$(),t.SpI(" ",o.name," ")}}function U(i,a){1&i&&(t.j41(0,"div",32),t.EFF(1," Please select a City "),t.k0s())}function S(i,a){if(1&i&&(t.j41(0,"option",33),t.EFF(1),t.k0s()),2&i){const o=a.$implicit;t.Y8G("value",o.id),t.R7$(),t.SpI(" ",o.name," ")}}function L(i,a){1&i&&(t.j41(0,"div",32),t.EFF(1," Please select a District "),t.k0s())}function N(i,a){if(1&i&&(t.j41(0,"option",33),t.EFF(1),t.k0s()),2&i){const o=a.$implicit;t.Y8G("value",o.id),t.R7$(),t.SpI(" ",o.name," ")}}function w(i,a){1&i&&(t.j41(0,"div",32),t.EFF(1," Please select a SubDistrict "),t.k0s())}function R(i,a){1&i&&(t.j41(0,"div",32),t.EFF(1," Please insert a PostalCode "),t.k0s())}function B(i,a){if(1&i&&(t.j41(0,"div",34),t.nrm(1,"input",35),t.j41(2,"label",36),t.EFF(3),t.k0s()()),2&i){const o=a.$implicit;t.R7$(),t.Mz_("id","cloudOption",o.value,""),t.Y8G("value",o.value),t.R7$(),t.Mz_("for","cloudOption",o.value,""),t.R7$(),t.JRh(o.label)}}function $(i,a){1&i&&(t.j41(0,"div",32),t.EFF(1," Please select a Cloud "),t.k0s())}function Y(i,a){if(1&i&&(t.j41(0,"div",34),t.nrm(1,"input",37),t.j41(2,"label",36),t.EFF(3),t.k0s()()),2&i){const o=a.$implicit;t.R7$(),t.Mz_("id","hybridOption",o.value,""),t.Y8G("value",o.value),t.R7$(),t.Mz_("for","hybridOption",o.value,""),t.R7$(),t.JRh(o.label)}}function M(i,a){1&i&&(t.j41(0,"div",32),t.EFF(1," Please select a Cloud Type "),t.k0s())}function J(i,a){1&i&&(t.j41(0,"div",10)(1,"div",3)(2,"label",38),t.EFF(3,"Cloud Name:"),t.k0s(),t.j41(4,"div",5),t.nrm(5,"input",39),t.k0s()()())}let A=(()=>{class i{constructor(o,l,s){this.userService=o,this.fb=l,this.router=s,this.clients=[],this.countries=[{id:"ID",name:"Indonesia"}],this.allProvinces=[{id:"DKI Jakarta",name:"DKI Jakarta",countryId:"ID"},{id:"Jawa Barat",name:"Jawa Barat",countryId:"ID"},{id:"Jawa Tengah",name:"Jawa Tengah",countryId:"ID"}],this.allCities=[{id:"Jakarta Selatan",name:"Jakarta Selatan",provinceId:"DKI Jakarta"},{id:"Jakarta Pusat",name:"Jakarta Pusat",provinceId:"DKI Jakarta"},{id:"Bandung",name:"Bandung",provinceId:"Jawa Barat"},{id:"Pulau",name:"Pulau",provinceId:"Jawa Barat"},{id:"Semarang",name:"Semarang",provinceId:"Jawa Tengah"}],this.allDistricts=[{id:"Kebayoran Baru",name:"Kebayoran Baru",cityId:"Jakarta Selatan"},{id:"Mampang Prapatan",name:"Mampang Prapatan",cityId:"Jakarta Selatan"},{id:"Babatan Pantai",name:"Babatan Pantai",cityId:"Jakarta Pusat"},{id:"Coblong",name:"Coblong",cityId:"Bandung"},{id:"Tembalang",name:"Tembalang",cityId:"Semarang"}],this.allSubDistricts=[{id:"Selong",name:"Selong",districtId:"Kebayoran Baru"},{id:"Gandaria",name:"Gandaria",districtId:"Kebayoran Baru"},{id:"Dago",name:"Dago",districtId:"Coblong"},{id:"Bonggo",name:"Bonggo",districtId:"Tembalang"}],this.provinces=this.allProvinces,this.cities=this.allCities,this.districts=this.allDistricts,this.subDistricts=this.allSubDistricts,this.OnCLouds=[{label:"Cloud",value:1},{label:"OnPremises",value:0}],this.Hybrids=[{label:"Hybrid",value:1},{label:"No",value:0}],this.clientForm=this.fb.group({CustomerName:["",n.k0.required],Address:["",n.k0.required],Provinces:["",n.k0.required],Country:["",n.k0.required],City:["",n.k0.required],District:["",n.k0.required],SubDistrict:["",n.k0.required],PostalCode:["",n.k0.required],OnCloud:["",n.k0.required],Hybrid:["",n.k0.required],CloudName:[""]}),this.clientForm.get("OnCloud")?.valueChanges.subscribe(c=>{1===c?this.clientForm.get("CloudName")?.setValidators(n.k0.required):this.clientForm.get("CloudName")?.clearValidators(),this.clientForm.get("CloudName")?.updateValueAndValidity()})}ngOnInit(){this.setupDropdownListeners(),this.clientForm.get("Country")?.setValue("ID")}setupDropdownListeners(){this.clientForm.get("Country")?.valueChanges.subscribe(o=>{this.provinces=this.allProvinces.filter(l=>l.countryId===o),this.resetDependentControls(["Provinces","City","District","SubDistrict"])}),this.clientForm.get("Provinces")?.valueChanges.subscribe(o=>{this.cities=this.allCities.filter(l=>l.provinceId===o),this.resetDependentControls(["City","District","SubDistrict"])}),this.clientForm.get("City")?.valueChanges.subscribe(o=>{this.districts=this.allDistricts.filter(l=>l.cityId===o),this.resetDependentControls(["District","SubDistrict"])}),this.clientForm.get("District")?.valueChanges.subscribe(o=>{this.subDistricts=this.allSubDistricts.filter(l=>l.districtId===o),this.clientForm.get("SubDistrict")?.reset()})}resetDependentControls(o){o.forEach(l=>{this.clientForm.get(l)?.reset()})}onSubmit(){if(confirm("Are you sure you want to add client"))if(this.clientForm.valid){const l={clientId:crypto.randomUUID(),clientName:this.clientForm.get("CustomerName")?.value,countryId:this.clientForm.get("Country")?.value,provinceId:this.clientForm.get("Provinces")?.value,cityId:this.clientForm.get("City")?.value,districtId:this.clientForm.get("District")?.value,subDistrictId:this.clientForm.get("SubDistrict")?.value,postalCode:this.clientForm.get("PostalCode")?.value,address:this.clientForm.get("Address")?.value,onCloud:this.clientForm.get("OnCloud")?.value,hybrid:this.clientForm.get("Hybrid")?.value,cloudName:1===this.clientForm.get("OnCloud")?.value?this.clientForm.get("CloudName")?.value:"OnPremises"};this.userService.InsertClient(l).subscribe(s=>{alert("Form has been submmited"),this.router.navigateByUrl("/ClientStatus",{state:{}})},s=>{console.error("Error:",s),alert(s)})}else alert("Form is invalid"),this.clientForm.markAllAsTouched()}static{this.\u0275fac=function(l){return new(l||i)(t.rXU(I.D),t.rXU(n.ok),t.rXU(e.Ix))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-insert-client"]],standalone:!0,features:[t.aNF],decls:79,vars:19,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3","row"],["for","CustomerName",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["id","CustomerName","formControlName","CustomerName",1,"form-control"],["class","text-danger small",4,"ngIf"],["for","customeraddress",1,"col-sm-3","col-form-label"],["id","Address","formControlName","Address",1,"form-control"],[1,"row","mb-3"],[1,"col-md-6"],["for","Country",1,"form-label"],["id","Country","formControlName","Country",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","Provinces",1,"form-label"],["id","Provinces","formControlName","Provinces",1,"form-control"],["value","","disabled","","selected",""],["for","City",1,"form-label"],["id","City","formControlName","City",1,"form-control"],["for","District",1,"form-label"],["id","District","formControlName","District",1,"form-control"],["for","SubDistrict",1,"form-label"],["id","SubDistrict","formControlName","SubDistrict",1,"form-control"],["for","PostalCode",1,"form-label"],["id","PostalCode","formControlName","PostalCode","type","number",1,"form-control"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9","d-flex","align-items-center"],["class","form-check form-check-inline custom-radio",4,"ngFor","ngForOf"],["class","row mb-3",4,"ngIf"],[1,"text-center","mt-5"],["type","submit",1,"btn","btn-primary","w-100"],[1,"text-danger","small"],[3,"value"],[1,"form-check","form-check-inline","custom-radio"],["type","radio","formControlName","OnCloud",1,"form-check-input",3,"value","id"],[1,"form-check-label","ms-2",3,"for"],["type","radio","formControlName","Hybrid",1,"form-check-input",3,"value","id"],["for","CloudName",1,"col-sm-3","col-form-label"],["id","CloudName","formControlName","CloudName",1,"form-control"]],template:function(l,s){if(1&l&&(t.j41(0,"div",0)(1,"h1",1),t.EFF(2,"Insert Client"),t.k0s(),t.j41(3,"form",2),t.bIt("ngSubmit",function(){return s.onSubmit()}),t.j41(4,"div",3)(5,"label",4),t.EFF(6,"Customer Name:"),t.k0s(),t.j41(7,"div",5),t.nrm(8,"input",6),t.k0s(),t.DNE(9,r,2,0,"div",7),t.k0s(),t.j41(10,"div",3)(11,"label",8),t.EFF(12,"Address:"),t.k0s(),t.j41(13,"div",5),t.nrm(14,"input",9),t.k0s(),t.DNE(15,E,2,0,"div",7),t.k0s(),t.j41(16,"div",10)(17,"div",11)(18,"label",12),t.EFF(19,"Country:"),t.k0s(),t.j41(20,"select",13),t.DNE(21,P,2,2,"option",14),t.k0s(),t.DNE(22,O,2,0,"div",7),t.k0s(),t.j41(23,"div",11)(24,"label",15),t.EFF(25,"Province:"),t.k0s(),t.j41(26,"select",16)(27,"option",17),t.EFF(28,"Select Province"),t.k0s(),t.DNE(29,j,2,2,"option",14),t.k0s(),t.DNE(30,G,2,0,"div",7),t.k0s()(),t.j41(31,"div",10)(32,"div",11)(33,"label",18),t.EFF(34,"City:"),t.k0s(),t.j41(35,"select",19)(36,"option",17),t.EFF(37,"Select City"),t.k0s(),t.DNE(38,T,2,2,"option",14),t.k0s(),t.DNE(39,U,2,0,"div",7),t.k0s(),t.j41(40,"div",11)(41,"label",20),t.EFF(42,"District:"),t.k0s(),t.j41(43,"select",21)(44,"option",17),t.EFF(45,"Select District"),t.k0s(),t.DNE(46,S,2,2,"option",14),t.k0s(),t.DNE(47,L,2,0,"div",7),t.k0s()(),t.j41(48,"div",10)(49,"div",11)(50,"label",22),t.EFF(51,"SubDistrict:"),t.k0s(),t.j41(52,"select",23)(53,"option",17),t.EFF(54,"Select SubDistrict"),t.k0s(),t.DNE(55,N,2,2,"option",14),t.k0s(),t.DNE(56,w,2,0,"div",7),t.k0s(),t.j41(57,"div",11)(58,"label",24),t.EFF(59,"Postal Code:"),t.k0s(),t.nrm(60,"input",25),t.DNE(61,R,2,0,"div",7),t.k0s()(),t.j41(62,"div",10)(63,"div",11)(64,"label",26),t.EFF(65,"Cloud Option:"),t.k0s(),t.j41(66,"div",27),t.DNE(67,B,4,6,"div",28),t.k0s(),t.DNE(68,$,2,0,"div",7),t.k0s(),t.j41(69,"div",11)(70,"label",26),t.EFF(71,"Hybrid Option:"),t.k0s(),t.j41(72,"div",27),t.DNE(73,Y,4,6,"div",28),t.k0s(),t.DNE(74,M,2,0,"div",7),t.k0s()(),t.DNE(75,J,6,0,"div",29),t.j41(76,"div",30)(77,"button",31),t.EFF(78,"Submit"),t.k0s()()()()),2&l){let c,m,g,C,b,f,v,F,k,_,y;t.R7$(3),t.Y8G("formGroup",s.clientForm),t.R7$(6),t.Y8G("ngIf",(null==(c=s.clientForm.get("CustomerName"))?null:c.invalid)&&(null==(c=s.clientForm.get("CustomerName"))?null:c.touched)),t.R7$(6),t.Y8G("ngIf",(null==(m=s.clientForm.get("Address"))?null:m.invalid)&&(null==(m=s.clientForm.get("Address"))?null:m.touched)),t.R7$(6),t.Y8G("ngForOf",s.countries),t.R7$(),t.Y8G("ngIf",(null==(g=s.clientForm.get("Country"))?null:g.invalid)&&(null==(g=s.clientForm.get("Country"))?null:g.touched)),t.R7$(7),t.Y8G("ngForOf",s.provinces),t.R7$(),t.Y8G("ngIf",(null==(C=s.clientForm.get("Provinces"))?null:C.invalid)&&(null==(C=s.clientForm.get("Provinces"))?null:C.touched)),t.R7$(8),t.Y8G("ngForOf",s.cities),t.R7$(),t.Y8G("ngIf",(null==(b=s.clientForm.get("City"))?null:b.invalid)&&(null==(b=s.clientForm.get("City"))?null:b.touched)),t.R7$(7),t.Y8G("ngForOf",s.districts),t.R7$(),t.Y8G("ngIf",(null==(f=s.clientForm.get("District"))?null:f.invalid)&&(null==(f=s.clientForm.get("District"))?null:f.touched)),t.R7$(8),t.Y8G("ngForOf",s.subDistricts),t.R7$(),t.Y8G("ngIf",(null==(v=s.clientForm.get("SubDistrict"))?null:v.invalid)&&(null==(v=s.clientForm.get("SubDistrict"))?null:v.touched)),t.R7$(5),t.Y8G("ngIf",(null==(F=s.clientForm.get("PostalCode"))?null:F.invalid)&&(null==(F=s.clientForm.get("PostalCode"))?null:F.touched)),t.R7$(6),t.Y8G("ngForOf",s.OnCLouds),t.R7$(),t.Y8G("ngIf",(null==(k=s.clientForm.get("OnCloud"))?null:k.invalid)&&(null==(k=s.clientForm.get("OnCloud"))?null:k.touched)),t.R7$(5),t.Y8G("ngForOf",s.Hybrids),t.R7$(),t.Y8G("ngIf",(null==(_=s.clientForm.get("Hybrid"))?null:_.invalid)&&(null==(_=s.clientForm.get("Hybrid"))?null:_.touched)),t.R7$(),t.Y8G("ngIf",1===(null==(y=s.clientForm.get("OnCloud"))?null:y.value))}},dependencies:[u.ae,p.MD,p.Sq,p.bT,n.X1,n.qT,n.xH,n.y7,n.me,n.Q0,n.wz,n.Fm,n.BC,n.cb,n.j4,n.JD],styles:[".custom-radio .form-check-input{border:2px solid #333;border-radius:50%;width:18px;height:18px}.custom-radio .form-check-input:checked{background-color:#007bff;border-color:#007bff}.custom-checkbox .form-check-input{border:2px solid #333;width:18px;height:18px}.custom-checkbox .form-check-input:checked{background-color:#007bff;border-color:#007bff}.form-control[readonly]{background-color:#fff}.my-custom-dropdown .ngx-dropdown-list{max-height:150px;overflow-y:auto;border:1px solid #ddd;background-color:#fff}\n"],encapsulation:2})}}return i})()}}]);